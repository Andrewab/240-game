<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="gameBackground.css">
	<link rel="stylesheet" type="text/css" href="fallingBlocks.css">
	<div class="gameBackground"></div>
<!--	<div class="divGameBackground"></div> -->
</head>
<body>
	<script src="randomEquation.js"></script>
<!--
	<div id = "firstFallOption" class = "fallingBlocks" style = "animation-name: blockFall1"></div>
	<div id = "secondFallOption" class = "fallingBlocks" style="animation-name: blockFall2"></div>
	<div id = "thirdFallOption" class = "fallingBlocks" style = "animation-name: blockFall3"></div>
-->
	<script type="text/javascript">
		
		//var equation = generateAddition();
		var go; //this variable will hold the interval for blockCannon. Initialized in start(gap).
		var counter = 0;
		var blocklist = new Array(); //whats 9 + 10?
		//document.getElementById("firstFallOption").innerHTML = equation;
		start(1000);
		//start shooting blocks every gap millis
		function start(gap){
			go = setInterval(blockCannon, gap);
		}

		//stop shooting blocks every gap millis
		function stop(){
			clearInterval(go);
		}

		//Shoot blocks with random equations in random collumns/files.
		function blockCannon() {
			++counter;
			console.log(counter);
			var rand = parseInt(Math.random() * 3, 10) + 1; //create a random number between 0 and 2
			var currentBlockId = "block" + counter;
			var randomEquation = generateAddition();
			switch(rand){
				case 1 : case1Block(currentBlockId, randomEquation);
				break;
				case 2 : case2Block(currentBlockId, randomEquation);
				break;
				default : case3Block(currentBlockId, randomEquation); 
				break;
			}
			var newBlock = {id: currentBlockId, equation: randomEquation};
			blocklist.push(newBlock);

		}
		function case1Block(newBlockId, equation) {
			var block = document.createElement('div');
			block.setAttribute("id",newBlockId);
			block.setAttribute("class", "fallingBlocks");
			block.setAttribute("style","animation-name: blockFall1");
			block.innerHTML = equation;
			document.body.appendChild(block);
		}

		function case2Block(newBlockId, equation) {
			var block = document.createElement('div');
			block.setAttribute("id",newBlockId);
			block.setAttribute("class", "fallingBlocks");
			block.setAttribute("style","animation-name: blockFall2");
			block.innerHTML = equation;
			document.body.appendChild(block);
		}	
			
		function case3Block(newBlockId, equation) {
			var block = document.createElement('div');
			block.setAttribute("id",newBlockId);
			block.setAttribute("class", "fallingBlocks");
			block.setAttribute("style","animation-name: blockFall3");
			block.innerHTML = equation;
			document.body.appendChild(block);
		}
			
	</script>
	<!--	<label for="Answer: "> Username</label>-->
	<textarea id = "userGuess" cols="40" rows="5" onkeypress="process(event)"></textarea>
<script type="text/javascript">
	function process(e) {
			if (e.keyCode == 13) {
				alert(document.getElementById("userGuess").value)
				alert(generateAddition())
			} 
	}
</script>
	<!--<div>h1</div> -->
</body>
	</html>